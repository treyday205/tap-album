# Backend
PORT=3000
DATABASE_URL=postgres://tap:tap@localhost:5432/tap
DATABASE_SSL=false
JWT_SECRET=change-me
APP_URL=http://localhost:3000
# For Railway, set APP_URL to your public domain (e.g. https://tap-album-production-bfdb.up.railway.app)
# If APP_URL is unset, the server will try RAILWAY_PUBLIC_DOMAIN / RAILWAY_PUBLIC_URL automatically.
# CORS_ALLOW_ALL=true
ADMIN_PASSWORD=change-me
# Optional temporary production debug endpoint auth token (X-Debug-Token header)
# Endpoint: GET /api/health/projects (available for 24h after server start)
DEBUG_TOKEN=
RESEND_API_KEY=
RESEND_FROM="TAP <noreply@yourdomain.com>"

# Storage (S3 / R2)
S3_BUCKET=
S3_REGION=auto
S3_ENDPOINT=
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=
S3_FORCE_PATH_STYLE=true
S3_KEY_PREFIX=assets
S3_SIGNED_URL_TTL=900
UPLOAD_DEBUG=false

# Storage (Supabase)
# Create a bucket in Supabase Storage and use the service role key on the server.
SUPABASE_URL=
SUPABASE_SERVICE_ROLE_KEY=
# Optional aliases (if you already use these in Railway):
# SUPABASE_SERVICE_KEY=
# SUPABASE_SECRET_KEY=
SUPABASE_BUCKET=
SUPABASE_SIGNED_URL_TTL=900
SUPABASE_CACHE_CONTROL=3600
SUPABASE_ANON_KEY=

# Supabase Auth URL diagnostics (mirror these in Supabase Auth > URL Configuration)
# SITE_URL should match your app origin (localhost in dev, production domain in prod).
SUPABASE_AUTH_SITE_URL=http://localhost:5173
# Comma-separated origins/patterns that Supabase Auth can redirect to after magic-link verification.
SUPABASE_AUTH_REDIRECT_URLS=http://localhost:5173/*,http://localhost:3000/*,https://your-production-domain.com/*

# Frontend (required for Supabase email auth in the browser)
VITE_SUPABASE_URL=
VITE_SUPABASE_ANON_KEY=

# Frontend (optional; leave unset in production to use same-origin /api)
# API_BASE_URL=http://localhost:3000
# VITE_API_URL=http://localhost:3000

